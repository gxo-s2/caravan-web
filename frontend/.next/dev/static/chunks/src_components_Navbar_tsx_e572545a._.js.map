{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/snoo/caravan-app/frontend/src/components/Navbar.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\n// 유저 타입 정의\ntype User = {\n  id: string;\n  name?: string;\n  role?: string; // 'GUEST' | 'HOST'\n};\n\nexport default function Navbar() {\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    // 클라이언트 사이드에서만 로컬 스토리지 접근\n    const userData = localStorage.getItem('user');\n    if (userData) {\n      try {\n        const parsedUser = JSON.parse(userData);\n        setUser(parsedUser);\n        setIsLoggedIn(!!parsedUser);\n      } catch (e) {\n        console.error(\"유저 정보 파싱 실패\", e);\n        localStorage.removeItem('user');\n      }\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    setUser(null);\n    setIsLoggedIn(false);\n    if (typeof window !== 'undefined') {\n      window.location.href = `${window.location.origin}/`;\n    }\n  };\n\n  const handleReservationLookupClick = () => {\n    if (typeof window !== 'undefined') {\n      const origin = window.location.origin;\n      // 로그인 상태라면 내 예약 페이지로, 아니면 조회 페이지로\n      if (isLoggedIn) {\n        window.location.href = `${origin}/my/reservations`;\n      } else {\n        window.location.href = `${origin}/reservations/lookup`;\n      }\n    }\n  };\n\n  return (\n    <nav className=\"bg-white border-b border-gray-200 sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          \n          {/* 왼쪽: 로고 및 메인 메뉴 */}\n          <div className=\"flex items-center gap-8\">\n            <a href=\"/\" className=\"flex-shrink-0 flex items-center cursor-pointer\">\n              <span className=\"text-2xl font-extrabold text-indigo-600 tracking-tight\">\n                CaravanApp\n              </span>\n            </a>\n\n            <div className=\"hidden sm:flex sm:space-x-8\">\n              <a\n                href=\"/caravans\"\n                className=\"text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-indigo-500 text-sm font-medium transition-colors\"\n              >\n                Explore Caravans\n              </a>\n              \n              {/* ✅ [수정됨] 게스트(GUEST)가 아닐 때만 '예약 조회' 버튼 표시 */}\n              {/* 비회원(user가 null)이거나, 호스트(HOST)일 때만 보입니다. */}\n              {user?.role !== 'GUEST' && (\n                <button\n                  onClick={handleReservationLookupClick}\n                  className=\"text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-indigo-500 text-sm font-medium transition-colors focus:outline-none\"\n                >\n                  예약 조회\n                </button>\n              )}\n\n              {/* 호스트 전용 메뉴: 카라반 목록 */}\n              {user?.role === 'HOST' && (\n                <a\n                  href=\"/host/caravans/manage\"\n                  className=\"text-indigo-600 inline-flex items-center px-1 pt-1 border-b-2 border-transparent hover:border-indigo-800 text-sm font-bold transition-colors\"\n                >\n                  카라반 목록\n                </a>\n              )}\n            </div>\n          </div>\n\n          {/* 오른쪽: 유저 메뉴 */}\n          <div className=\"flex items-center space-x-4\">\n            {isLoggedIn ? (\n              <>\n                {/* 결제 내역 링크 */}\n                <a\n                  href=\"/my/payments\"\n                  className=\"hidden md:inline-flex items-center text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  결제 내역\n                </a>\n\n                <a\n                  href=\"/my/reservations\"\n                  className=\"hidden md:inline-block text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  내 예약\n                </a>\n                <a\n                  href=\"/my/profile\"\n                  className=\"text-gray-600 hover:text-indigo-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  내 프로필\n                </a>\n                <button\n                  onClick={handleLogout}\n                  className=\"text-gray-500 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium transition-colors\"\n                >\n                  로그아웃\n                </button>\n              </>\n            ) : (\n              <a\n                href=\"/auth/login\"\n                className=\"bg-indigo-600 text-white px-5 py-2 rounded-full text-sm font-bold shadow-md hover:bg-indigo-700 transition-all hover:shadow-lg transform hover:-translate-y-0.5\"\n              >\n                로그인\n              </a>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAWe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAA,0KAAS;4BAAC;YACR,0BAA0B;YAC1B,MAAM,WAAW,aAAa,OAAO,CAAC;YACtC,IAAI,UAAU;gBACZ,IAAI;oBACF,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,QAAQ;oBACR,cAAc,CAAC,CAAC;gBAClB,EAAE,OAAO,GAAG;oBACV,QAAQ,KAAK,CAAC,eAAe;oBAC7B,aAAa,UAAU,CAAC;gBAC1B;YACF;QACF;2BAAG,EAAE;IAEL,MAAM,eAAe;QACnB,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,cAAc;QACd,wCAAmC;YACjC,OAAO,QAAQ,CAAC,IAAI,GAAG,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;QACrD;IACF;IAEA,MAAM,+BAA+B;QACnC,wCAAmC;YACjC,MAAM,SAAS,OAAO,QAAQ,CAAC,MAAM;YACrC,kCAAkC;YAClC,IAAI,YAAY;gBACd,OAAO,QAAQ,CAAC,IAAI,GAAG,GAAG,OAAO,gBAAgB,CAAC;YACpD,OAAO;gBACL,OAAO,QAAQ,CAAC,IAAI,GAAG,GAAG,OAAO,oBAAoB,CAAC;YACxD;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAGb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,MAAK;gCAAI,WAAU;0CACpB,cAAA,6LAAC;oCAAK,WAAU;8CAAyD;;;;;;;;;;;0CAK3E,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;oCAMA,MAAM,SAAS,yBACd,6LAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;oCAMF,MAAM,SAAS,wBACd,6LAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAQP,6LAAC;wBAAI,WAAU;kCACZ,2BACC;;8CAEE,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;8CAID,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;yDAKH,6LAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAhIwB;KAAA"}}]
}